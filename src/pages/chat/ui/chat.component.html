<section class="chat-container">
    <header class="chat-header">
        <div class="header-content">
            <button class="back-button" routerLink="/">
                <span class="back-icon">←</span>
                Back
            </button>
            <h1 class="chat-title">Chat Title</h1>
            <div class="status-indicator">
                <span class="status-dot"></span>
                <span class="status-text">Online</span>
            </div>
        </div>
    </header>
    <main class="chat-messages">
        <div class="message">
            @for (message of messages(); track message) {
            @if (message) {
            <app-message [message]="message"></app-message>
            }

            }
        </div>
    </main>
    <!-- AI is writing popup -->
    @if (loading()) {
    <aside class="ai-writing-popup">
        <span class="typing-indicator">
            <span></span><span></span><span></span>
        </span>
        <span class="ai-writing-text">AI is writing…</span>
    </aside>
    }
    <div class="chat-input-container">
        <input class="chat-input" type="text" placeholder="Type your message..." [(ngModel)]="userInput" />
        <button class="send-button" (click)="sendMessage()">
            <span class="send-icon">➤</span>
        </button>
    </div>
</section>